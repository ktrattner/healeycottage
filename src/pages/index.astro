---
import Base from "../layouts/Base.astro";
import rooms from "../content/rooms.json";
---

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:opsz,wght@5..120,500&display=swap" rel="stylesheet">

<Base title="Healey Cottage">
  <main>
    <section class="hero">
      <div class="heroText">
        <h1>Stay at Healey Cottage</h1>
        <p class="sub">
          You’re invited to stay with Kyle and Brandon at Healey Cottage in Muskoka. Check availability, pick a room, and send a request. We’ll confirm by email.
        </p>

        <div class="ctaRow">
          <a class="btn primary" href="/availability">View availability</a>
          <a class="btn" href="/request">Request a stay</a>
        </div>

      </div>

      <div class="heroImage">
        <img
          src="/images/cottage-summer.jpg"
          alt="Healey Cottage exterior in summer"
          loading="eager"
        />
      </div>
    </section>

    <section class="section">
      <div class="sectionHead">
        <h2>Rooms</h2>
        <a class="link" href="/rooms">See all</a>
      </div>

      <div class="grid">
        {rooms.map((r) => (
          <a class="roomCard" href={`/rooms/${r.slug}`}>
            <div class="roomTop">
              <h3>{r.name}</h3>
              <span class="pill">Sleeps {r.sleeps}</span>
            </div>
            <p class="muted">{r.bed} bed</p>
            <div class="roomBottom">
              <span class="link">View room</span>
              <span class="link">Request</span>
            </div>
          </a>
        ))}
      </div>
    </section>

    <section class="section">
      <h2>How it works</h2>
      <ol class="steps">
        <li>
          <b>Check availability.</b> If you see an open spot that works for you, it’s fair game. No back‑and‑forth required.
        </li>
        <li>
          <b>Submit a request.</b> Pick a room, choose your dates, and tell us anything we should know. Stay a night or stay a while (within reason, you lovable squatter).
        </li>
        <li>
          <b>We approve or decline.</b> You’ll get an email either way. If it’s approved, we can’t wait to have you up.
        </li>
      </ol>
    </section>
  </main>

  <style>
    .hero { margin-top: 12px; }
    .hero { display: grid; gap: 18px; grid-template-columns: 1.35fr 0.65fr; align-items: start; }
    @media (max-width: 860px) { .hero { grid-template-columns: 1fr; } }

    h1 {
      font-family: "Playfair Display", serif;
      font-size: 44px;
      line-height: 1.08;
      margin: 0 0 12px;
      letter-spacing: -0.01em;
    }
    h2 {
      font-family: "Playfair Display", serif;
      letter-spacing: -0.01em;
    }
    @media (max-width: 560px) { h1 { font-size: 36px; } }

    .sub { font-size: 14px; opacity: .8; margin: 0 0 18px; max-width: 56ch; }
    @media (min-width: 861px) { .sub { max-width: none; } }
    .ctaRow { display: flex; gap: 10px; flex-wrap: wrap; margin: 0 0 14px; }
    .fine { font-size: 13px; opacity: .7; margin: 0; }

    .heroImage {
      border-radius: 16px;
      overflow: hidden;
      border: 1px solid var(--border);
    }

    .heroImage img {
      width: 100%;
      height: 100%;
      display: block;
      object-fit: cover;
    }

    .section { margin-top: 30px; }
    .sectionHead { display: flex; align-items: baseline; justify-content: space-between; gap: 10px; }
    .sectionHead h2 { margin: 0; }
    .link { opacity: .85; text-decoration: none; }

    .grid { display: grid; gap: 12px; grid-template-columns: repeat(3, 1fr); margin-top: 12px; }
    @media (max-width: 860px) { .grid { grid-template-columns: 1fr; } }

    .roomCard {
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 14px;
      text-decoration: none;
      display: block;
      transition: border-color .15s ease, box-shadow .15s ease, transform .15s ease;
    }

    .roomCard:hover {
      border-color: rgba(0,0,0,.28);
      box-shadow: var(--shadow-md);
      transform: translateY(-2px);
    }
    .roomTop { display: flex; align-items: center; justify-content: space-between; gap: 10px; }
    .roomTop h3 { margin: 0; font-size: 16px; }
    .muted { margin: 8px 0 0; }
    .roomBottom { display: flex; justify-content: space-between; margin-top: 12px; font-size: 13px; opacity: .85; }

    .steps { margin: 12px 0 0; padding-left: 18px; display: grid; gap: 8px; }
  </style>
</Base>